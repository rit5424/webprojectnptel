<!DOCTYPE html>
<html lang="en">
<head>
    <title>Getall</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    
</head>

<body>
    <br>
    <h2 align="center">NPTEL STUDENTS</h2>

    <div class="container">
        <table class="table table-bordered table-danger">
            <thead class="thead-dark">
              <tr>
                <th scope="col">NAME</th>
                <th scope="col">ROLL NO</th>
                <th scope="col">MAIL ID</th>
                
              </tr>
            </thead>
            <tbody id="tbody">
            </tbody>
          </table>
          <input type="button" value="Get All" id="getall">
          <p id="res"></p>
    </div>
   
    <script>
        const getall = document.getElementById('getall');
        const result = document.getElementById('res');
        getall.addEventListener('click', () => {
            fetch('http://localhost:9090/api/signup')
                .then(res => { return res.json() })
                .then((objectdata)=>{
                    console.log(objectdata[0].name);
                    let tabledata="";
                    objectdata.map((values,i)=>{
                        console.log(values.name)
                        tabledata+=`<tr>
                            <td>${values.name}</td>
                            <td>${values.rollno}</td>
                            <td>${values.mail}</td>

                            </tr>`
                    });
                    const table=document.getElementById('tbody');
                    table.innerHTML=tabledata;
                })
        })
    </script>
</body>
</html>